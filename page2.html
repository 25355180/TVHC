<!DOCTYPE html>
<html lang="en"><!-- sets the language -->
<html>
  <head><!-- head of the page -->
    <title>The very hungry caterpillar</title><!-- sets the page title-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><!-- sets viewport -->
    <link rel="icon" type="image/x-icon" href="favicon.ico"><!-- sets the tab image -->
    <link rel="stylesheet" href="styles.css"><!-- stylesheet -->
    <link rel="preconnect" href="https://fonts.googleapis.com"><!-- allows use of google fonts -->
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Atma:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <audio id="audio" src="page2Reading.mp3"></audio><!-- audio -->
    <audio id="sunAudio" src="sunNoise.mp3"></audio><!-- audio -->
  </head>
<body id="page2"><!-- body of the page -->

  <img src="sun.png" class="sun" alt="an image of the sun">
  <p class="txt">One sunday morning the warm sun came up and - pop! - Out of the egg came a very tiny and very hungry caterpillar. <a href="page3.html">Next page</a></p>
    <!-- text and links to next page -->
  <img src="egg.png" id="egg" alt="image of the egg">
  <img src="caterpillarB.png" class="colin2" alt="a segment of the caterpillar">
  <img src="caterpillarA.png" class="colin2" alt="a segment of the caterpillar">
  <img src="caterpillarB.png" class="colin2" alt="a segment of the caterpillar">
  <img src="caterpillarA.png" class="colin2" alt="a segment of the caterpillar">
  <img src="caterpillarB.png" class="colin2" alt="a segment of the caterpillar">
  <img src="caterpillarHead.png" class="colin2" alt="the caterpillars head">
  <!-- the caterpillar -->
  <img src="ground.png" class="ground" alt="image of the ground">
  <!-- background images that make up the page-->
  <script>
    const colins = document.querySelectorAll('.colin2');
    colins.forEach((colin2) => {
        colin2.addEventListener('animationend', (event) => {
            if (event.animationName === 'crawl') {
                window.location.href = 'page3.html';
            }
        });//page advances once crawl animation has been completed
    });
    document.getElementById("egg").addEventListener("click", function() {
      this.src = "eggCrack.png";//switches egg image to eggcrack when clicked
      this.style.animation = "none";
      document.querySelectorAll(".colin2").forEach(caterpillar => {
        caterpillar.style.display = "inline-flex"; //replaces caterpillar style from none to inline flex which makes it appear
    })})
    document.querySelectorAll("p, a").forEach(element => {
      element.addEventListener("click", function() {
        document.getElementById("audio").play();
      });
    });
    //  selects all p and a elements on the page and makes the audio play when they are clicked
    document.querySelectorAll("sun").forEach(element => {
        element.addEventListener("click", function() {
          document.getElementById("sunAudio").play(); //plays audio when sun is clicked
        });
      });
  </script>
</body>
</html>