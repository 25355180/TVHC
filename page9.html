<!DOCTYPE html>
<html lang="en"><!-- sets the language -->
<html>
  <head><!-- head of the page -->
    <title>The very hungry caterpillar</title><!-- sets the page title-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><!-- sets viewport -->
    <link rel="icon" type="image/x-icon" href="favicon.ico"><!-- sets the tab image -->
    <link rel="stylesheet" href="styles.css"><!-- stylesheet -->
    <link rel="preconnect" href="https://fonts.googleapis.com"><!-- allows use of google fonts -->
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Atma:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <audio id="audio" src="page9Reading.mp3"></audio><!-- audio -->
  </head>
<body><!-- body of the page -->

  <p class="txt">On Saturday he ate through one piece of chocolate cake, one ice-cream, one pickle, one slice of swiss cheese,
     one slice of salami, one lollipop, one piece of cherry pie, one sausage, one cupcake, and one slice of watermelon. That night he had a stomachache! <a href="page10.html">Next page</a></p>
   <!-- text and links to next page -->
    <img src="cake.png" class="pg9food" id="cake" draggable="true" ondragstart="dragstartHandler(event)" alt="a food you can feed the caterpillar">
    <img src="icecream.png" class="pg9food" id="icecream" draggable="true" ondragstart="dragstartHandler(event)" alt="a food you can feed the caterpillar">
    <img src="pickle.png" class="pg9food" id="pickle" draggable="true" ondragstart="dragstartHandler(event)" alt="a food you can feed the caterpillar">
    <img src="cheese.png" class="pg9food" id="cheese" draggable="true" ondragstart="dragstartHandler(event)" alt="a food you can feed the caterpillar">
    <img src="sausageSlice.png" class="pg9food" id="sausage" draggable="true" ondragstart="dragstartHandler(event)" alt="a food you can feed the caterpillar">
    <img src="lolly.png" class="pg9food" id="lolly" draggable="true" ondragstart="dragstartHandler(event)" alt="a food you can feed the caterpillar">
    <img src="pie.png" class="pg9food" id="pie" draggable="true" ondragstart="dragstartHandler(event)" alt="a food you can feed the caterpillar">
    <img src="chorizo.png" class="pg9food" id="chorizo" draggable="true" ondragstart="dragstartHandler(event)" alt="a food you can feed the caterpillar">
    <img src="muffin.png" class="pg9food" id="muffin" draggable="true" ondragstart="dragstartHandler(event)" alt="a food you can feed the caterpillar">
    <img src="melon.png" class="pg9food" id="melon" draggable="true" ondragstart="dragstartHandler(event)" alt="a food you can feed the caterpillar">
  <!--elements you can feed the caterpillar-->
    <img src="caterpillarB.png" class="colinStill" alt="a segment of the caterpillar">
    <img src="caterpillarA.png" class="colinStill" alt="a segment of the caterpillar">
    <img src="caterpillarB.png" class="colinStill" alt="a segment of the caterpillar">
    <img src="caterpillarA.png" class="colinStill" alt="a segment of the caterpillar">
    <img src="caterpillarB.png" class="colinStill" alt="a segment of the caterpillar">
    <img src="caterpillarHead.png" class="colinStill" ondrop="dropHandler(event)"   ondragover="dragoverHandler(event)" id="head" alt="a segment of the caterpillar">
      <!-- the caterpillar -->
    <img src="desk.png" class="desk">
    <img src="ground.png" class="ground" alt="image of the ground">
      <!-- background images that make up the page-->
    <script>//javascript
      function dragstartHandler(ev) {
        ev.dataTransfer.setData("text", ev.target.id);
      }
      
      function dragoverHandler(ev) {
        ev.preventDefault();
      }
      
      function dropHandler(ev) {
        ev.preventDefault();
        const data = ev.dataTransfer.getData("text");
        const draggedElement = document.getElementById(data);
        
        ev.target.appendChild(draggedElement);
        
        draggedElement.parentNode.removeChild(draggedElement);
        checkLeaves();
      }
    function checkLeaves() {
      const food = document.querySelectorAll(".pg9food"); 
      const container = document.querySelector("#head");

      const allEaten = Array.from(food).every(pg9food => pg9food.parentNode === container);

      if (allEaten) {
        window.location.href = "page10.html"; //once all elements with class apple have been eaten the page advances
      }
    }
    document.querySelectorAll("p").forEach(element => {
      element.addEventListener("click", function() {
        document.getElementById("audio").play();
      });
    });
    //  selects all p elements on the page and makes the audio play when they are clicked

  </script>
</body>
</html>