<!DOCTYPE html>
<html>
  <head>
    <title>The very hungry caterpillar</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/x-icon" href="favicon.ico"><!-- sets the tab image -->
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Atma:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  </head>
<body>
  <p class="txt">On Saturday he ate through one piece of chocolate cake, one ice-cream, one pickle, one slice of swiss cheese,
     one slice of salami, one lollipop, one piece of cherry pie, one sausage, one cupcake, and one slice of watermelon. That night he had a stomachache!</p>
    <img src="cake.png" class="pg9food" id="cake" draggable="true" ondragstart="dragstartHandler(event)">
    <img src="icecream.png" class="pg9food" id="icecream" draggable="true" ondragstart="dragstartHandler(event)">
    <img src="pickle.png" class="pg9food" id="pickle" draggable="true" ondragstart="dragstartHandler(event)">
    <img src="cheese.png" class="pg9food" id="cheese" draggable="true" ondragstart="dragstartHandler(event)">
    <img src="sausageSlice.png" class="pg9food" id="sausage" draggable="true" ondragstart="dragstartHandler(event)">
    <img src="lolly.png" class="pg9food" id="lolly" draggable="true" ondragstart="dragstartHandler(event)">
    <img src="pie.png" class="pg9food" id="pie" draggable="true" ondragstart="dragstartHandler(event)">
    <img src="chorizo.png" class="pg9food" id="chorizo" draggable="true" ondragstart="dragstartHandler(event)">
    <img src="muffin.png" class="pg9food" id="muffin" draggable="true" ondragstart="dragstartHandler(event)">
    <img src="melon.png" class="pg9food" id="melon" draggable="true" ondragstart="dragstartHandler(event)">

    <img src="caterpillarB.png" class="colinStill">
    <img src="caterpillarA.png" class="colinStill">
    <img src="caterpillarB.png" class="colinStill">
    <img src="caterpillarA.png" class="colinStill">
    <img src="caterpillarB.png" class="colinStill">
    <img src="caterpillarHead.png" class="colinStill" ondrop="dropHandler(event)"   ondragover="dragoverHandler(event)" id="head">
    <img src="desk.png" class="desk">
    <img src="ground.png" class="ground">
    <a href="page10.html">Next page</a>
    <script>
      function dragstartHandler(ev) {
        ev.dataTransfer.setData("text", ev.target.id);
      }
      
      function dragoverHandler(ev) {
        ev.preventDefault();
      }
      
      function dropHandler(ev) {
        ev.preventDefault();
        const data = ev.dataTransfer.getData("text");
        const draggedElement = document.getElementById(data);
        
        ev.target.appendChild(draggedElement);
        
        draggedElement.parentNode.removeChild(draggedElement);
        checkLeaves();
      }
    function checkLeaves() {
      const food = document.querySelectorAll(".pg9food"); 
      const container = document.querySelector("#head");

      const allEaten = Array.from(food).every(pg9food => pg9food.parentNode === container);

      if (allEaten) {
        window.location.href = "page10.html"; 
      }
    }
  </script>
</body>
</html>